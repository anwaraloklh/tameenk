<div class="dashboard-container">

 
  <div class="stats-row">
    <nz-card class="stat-card" *ngFor="let stat of mainStats">
      <nz-statistic
        [nzTitle]="stat.title"
        [nzValue]="stat.value"
        [nzSuffix]="stat.suffix"
      >
        <ng-container *nzStatisticSuffix>
          <span [ngClass]="{'positive': stat.change >= 0, 'negative': stat.change < 0}">
            <i nz-icon [nzType]="stat.change >= 0 ? 'arrow-up' : 'arrow-down'" nzTheme="outline"></i>
            {{ stat.change }}%
          </span>
        </ng-container>
      </nz-statistic>
    </nz-card>
  </div>

  <div class="charts-row">
    <nz-card nzTitle="تقدم التأمين حسب النوع">
      <div class="progress-group">
        <div *ngFor="let type of insuranceTypes" class="progress-item">
          <div class="progress-label">{{ type.name }}</div>
          <nz-progress
            [nzPercent]="type.progress"
            [nzStrokeColor]="type.color"
            nzType="circle"
            [nzWidth]="90"
            [nzStrokeLinecap]="'round'">
          </nz-progress>
        </div>
      </div>
    </nz-card>
  </div>
  <div class="insurance-stats-row">
    <nz-card nzTitle="إحصائيات شركات التأمين" class="insurance-stats-card">
      <div class="insurance-stats-content">

      
        <div class="stat-box active">
          <h3>الشركات النشطة</h3>
          <p>{{ activeCompanies }} شركة</p>
        </div>

      
        <div class="stat-box inactive">
          <h3>الشركات غير النشطة</h3>
          <p>{{ inactiveCompanies }} شركة</p>
        </div>

      
        <div class="stat-box chart">
          <h3>حسب نوع التأمين</h3>
          <div id="insuranceTypePie"></div>
        </div>

      
        <div class="stat-box top">
          <h3>أكثر 5 شركات رائدة</h3>
          <div *ngFor="let company of topCompanies" class="top-company">
            <span>{{ company.name }}</span>
            <nz-progress 
              [nzPercent]="company.sales"
              nzSize="small"
              [nzStrokeColor]="company.color">
            </nz-progress>
          </div>
        </div>

      </div>
    </nz-card>
  </div>
 
  <nz-card nzTitle="الإحصائيات" [nzBordered]="true" class="chart-card">
    <div id="tradingChartContainer"></div>
  </nz-card>




</div>
